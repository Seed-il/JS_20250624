<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>숫자야구</title>
</head>
<body>
	<form id="form">
		<input type="text" id="input">
		<button>확인</button>
	</form>
	<div id = "logs"></div>
	<script>
		const $input = document.querySelector('#input');
		const $form = document.querySelector('#form');
		const $logs = document.querySelector('#logs');

		// 실행될 때 무작위 숫자 생성
		const numbers = []
		for(let n = 1; n<10; n++){
			numbers.push(n);
		}
		const answer = [];
		for(let i = 0; i<=3; i++){
			const index = Math.floor(Math.random() * numbers.length); // 0~8 정수
			answer.push(numbers[index]);
			numbers.splice(index, 1);
		}
		console.log(answer);

		const tries = [];
		function checkInput(input){
			// 검사
			if(input.length !== 4){
				return alert('4자리 숫자를 입력하세요');
			}
			if(new Set(input).size !== 4){
				return alert('중복되지 않게 입력하세요');
			}
			if(tries.includes(input)){
				return alert('이미 시도한 값입니다.');
			}
			return true;
		}

		$form.addEventListener('submit', (event)=>{
			event.preventDefault();// 기본 동작 막기(form의 경우는 새로고침됨)
			console.log('서브밋', event);
			const value = $input.value;
			$input.value = '';

			if(checkInput(value)){
				// 검증 통과 후 본 게임 시작
				tries.push(value);
			}
		});

	</script>
</body>
</html>